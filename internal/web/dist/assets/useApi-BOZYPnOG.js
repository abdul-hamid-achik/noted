const $="/api";async function e(o,a){const n=await fetch(`${$}${o}`,{headers:{"Content-Type":"application/json"},...a});if(!n.ok){const c=await n.text();throw new Error(`API error ${n.status}: ${c}`)}if(n.status!==204)return n.json()}function l(){async function o(){return e("/notes")}async function a(t){return e(`/notes/${t}`)}async function n(t){return e("/notes",{method:"POST",body:JSON.stringify(t)})}async function c(t,r){return e(`/notes/${t}`,{method:"PUT",body:JSON.stringify(r)})}async function u(t){return e(`/notes/${t}`,{method:"DELETE"})}async function m(t,r=20){const s=new URLSearchParams({q:t,limit:String(r)});return e(`/notes/search?${s}`)}async function y(){return e("/memories")}async function f(t){return e("/memories",{method:"POST",body:JSON.stringify(t)})}async function d(t){return e(`/memories/${t}`,{method:"DELETE"})}async function g(t,r=10,s){const i=new URLSearchParams({q:t,limit:String(r)});return s&&i.set("category",s),e(`/memories/recall?${i}`)}async function h(){return e("/tags")}async function S(){return e("/stats")}return{getNotes:o,getNote:a,createNote:n,updateNote:c,deleteNote:u,searchNotes:m,getMemories:y,createMemory:f,deleteMemory:d,recallMemories:g,getTags:h,getStats:S}}export{l as u};
